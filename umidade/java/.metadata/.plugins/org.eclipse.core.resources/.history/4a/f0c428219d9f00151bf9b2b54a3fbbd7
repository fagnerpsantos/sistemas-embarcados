package br.edu.ifba.se.babycare.contexto;

import javax.servlet.ServletContext;
import javax.servlet.ServletContextEvent;

import br.edu.ifba.se.babycare.conector.SingleConector;
import br.edu.ifba.se.babycare.leitor.LeitorAssincrono;

import com.sun.faces.config.ConfigureListener;

public class ConfiguradorContexto extends ConfigureListener {
	
	/*Terceira Unidade
	private LeitorAssincrono leitor;
	private Thread tLeiror;
	*/

	@Override
	public void contextInitialized(ServletContextEvent sce){
		super.contextInitialized(sce);
		
		ServletContext sc = sce.getServletContext();
		String libPath = sc.getRealPath("/WEB-INF/lib");
		
		SingleConector.iniciarComunicacaoRF(libPath);
		
	}
	
	@Override
	public void contextDestroyed(ServletContextEvent sce){
		SingleConector.getConector().finalizar();
		
		super.contextDestroyed(sce);
	}
	/*Terceira Unidade
	 * 	public void contextDestroyed(ServletContextEvent sce){
		SingleConector.finalizar();
		
		super.contextDestroyed(sce);
	}
	 */
}
