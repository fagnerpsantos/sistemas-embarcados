package br.edu.ifba.se.babycare;

import javax.annotation.PostConstruct;
import javax.faces.bean.ManagedBean;

import org.primefaces.model.chart.MeterGaugeChartModel;

import br.edu.ifba.se.babycare.conector.SingleConector;

@ManagedBean(name = "monitor")
public class Monitor {

	private MeterGaugeChartModel modeloMedidorTemperatura;
	private MeterGaugeChartModel modeloMedidorBatimentos;

	@PostConstruct
	public void iniciar(){
		configurarMedidores();
	}
	
	private void configurarMedidores(){
		modeloMedidorTemperatura = criarModeloTemperatura();
		modeloMedidorBatimentos = criarModeloBatimentos();
	}
	
	public void lerSensores() {
		// Acionar a leitura do arduino
		SingleConector.getConector().ler();

		int temperatura = SingleConector.getConector().getTemperatura();
		int batimentos = SingleConector.getConector().getBatimentos();

		System.out.println("Temp = " + temperatura);
		System.out.println("Bats = " + batimentos);

		// Atualizar os valores dos medidores
	}

}
